services:
  library-app:
    image: hoangmai29/library-ci-cd:latest
    ports:
      - "8081:8080"
    environment:
      - SPRING_DATASOURCE_URL=jdbc:sqlserver://host.docker.internal:1433;databaseName=LibraryDB
      - SPRING_DATASOURCE_USERNAME=sa
      - SPRING_DATASOURCE_PASSWORD=Admin@123  # <-- thay bằng mật khẩu đúng
  jenkins:
    image: jenkins/jenkins:lts
    ports:
      - "8082:8080"
    volumes:
      - ./jenkins_home:/var/jenkins_home
    container_name: library-ci-cd-jenkins
